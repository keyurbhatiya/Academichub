
{% load static %}

{% block content %}
<!-- PDF Modal -->
{% for paper in papers %}
<div class="bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow duration-300 p-6 border border-gray-100 flex flex-col">
    <div class="flex-grow mb-4">
        <div class="flex items-center justify-between mb-3">
            <span class="inline-block px-3 py-1 bg-indigo-100 text-indigo-800 text-xs font-semibold rounded-full">
                {{ paper.course|default:"General" }}
            </span>
            <span class="text-sm text-gray-500">Sem: {{ paper.semester }}</span>
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-2 leading-tight" title="{{ paper.title }}">{{ paper.title }}</h3>
        <p class="text-sm text-gray-600 flex items-center">
            <i class="ri-building-4-line mr-2 text-gray-400"></i>
            {{ paper.university }}
        </p>
    </div>
    <div class="mt-auto pt-4 border-t border-gray-100 flex items-center justify-between">
        <p class="text-xs text-gray-500">
            By: <span class="font-medium">{{ paper.uploaded_by.get_full_name|default:paper.uploaded_by.username }}</span>
        </p>
        <div class="flex items-center space-x-3 text-gray-600">
            <button onclick="copyToClipboard('{{ paper.drive_url }}', this)" class="hover:text-indigo-600" title="Copy share link">
                <i class="ri-clipboard-line text-lg"></i>
            </button>
            <a href="{{ paper.drive_url }}" target="_blank" class="hover:text-indigo-600" title="Open in new tab">
                <i class="ri-external-link-line text-lg"></i>
            </a>
            <button onclick="openModal('{{ paper.drive_url|escapejs }}', '{{ paper.title|escapejs }}')" class="bg-indigo-600 text-white font-semibold text-sm px-4 py-2 rounded-lg flex items-center hover:bg-indigo-700 transition-colors">
                <i class="ri-eye-line mr-2"></i> View
            </button>
        </div>
    </div>
</div>
{% empty %}
<div class="col-span-full text-center py-8">
    <i class="ri-search-2-line text-5xl text-gray-300"></i>
    <p class="mt-4 text-lg text-gray-600">No papers found.</p>
    <p class="text-sm text-gray-500">Try adjusting your search terms.</p>
</div>
{% endfor %}
</div>
{% endblock %}